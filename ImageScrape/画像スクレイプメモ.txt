とりあえず、キーワードを入れたら100ページぐらい作れることにするか。
サンプル参考に。

rg_ic rg_i
rg_ic rg_i
rg_ic rg_i

どうやらクラス名は上で固定らしい。
idに規則性はなし。上のクラス名でid一覧を取得できればいいのか。

xpathはおまじないの中にidが含まれる形式。
id一覧さえ取得できれば。beautifulsoup使う？

getattributeでidを取得できるが、xpathで取得した後だ。
どうやって一覧を取得する？find_elementsで複合クラス名の先頭部分だけを入力したら
画像のelmentsを全て入手できた。これでidがなくても画像を選択クリックできる


画像一覧からクリックすると現れる拡大画像にはリンク先が格納されている。src=の部分。
get_attributeで取得できるかな。

あ、そもそもclass名がそれぞれの画像で異なるみたいだからclass名で指定するのは不可能だな。
selecterとxpathには規則性がありそうだ。
それで試してみるか？


規則性見つけられない。
ただ、class名はなぜかirc_mutとirc_miが交互に現れている。拡張子の違いかな？

png mut
png mi

拡張子の違いではないな。よくわからない。とりあえずどちらも試させればいい。


except文の外でexcept内で取得したエレメントを使用するとエラーが出る。
検証でクラス名がmutになっている画像にもmiのリンクが存在するらしい。よくわからない。
mutのはずの画像のエレメントをmiでも取得でき、しかもそのリンクはmutのものと同様なようだ。
ただ、mutであるはずの画像のmiクラスのエレメントではsrcがアトリビュートとして存在しないようで取得できない。


svgには画像のふりしてただのリンクになっているものもある。
さて、どうやって対処しようか。

mutとmiってもしかして大きい画像と小さい画像のことか？
やっぱり同じ画像が3つ続く。それも大小大と。
画像の拡大は100毎できているが、拡大画像のクリックは同じ画像を3回ずつしているのか。
たぶんどちらかが大きな画像でどちらかが小さな画像だ。
それで、0-2までの番号はおそらく順繰りに振られている？
具体的には1枚目が1を振られていたら、2枚目には2が、3枚目には0が4枚目には再び1がという風に。
そうだね、3枚に一枚しかダウンロードできていないし。

ということは、どうしようかな。mutの配列を古いものと比較して一致しなかったものを取得するか。